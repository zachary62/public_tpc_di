{"project": [0, 1, 2, 3], "duplicate_rows": {"duplicated_indices": [], "num_duplicated_rows": 0, "remove_duplicates": false}, "missing_columns": {"missing_column_indices": [], "missing_column_names": [], "remove_columns": []}, "duplicate_columns": {"duplicated_column_indices": [], "duplicated_column_names": [], "remove_columns": []}, "x_y_columns": {"x_y_column_indices": [], "x_y_column_names": [], "remove_columns": []}, "index_columns": {"index_column_indices": [], "index_column_names": [], "remove_columns": []}, "data_type": {"HH_H_T_ID": {"data_type": "BIGINT"}, "HH_T_ID": {"data_type": "BIGINT"}, "HH_BEFORE_QTY": {"data_type": "BIGINT"}, "HH_AFTER_QTY": {"data_type": "BIGINT"}}, "main_entity": {"summary": "Holding Change Event", "reasoning": "The table is about tracking changes in holdings or quantities of a certain item or asset. The columns suggest that there is a transaction or event ('HH_H_T_ID') associated with a particular item or asset ('HH_T_ID'), and the table records the quantity before ('HH_BEFORE_QTY') and after ('HH_AFTER_QTY') this event. The main entities could be the transactions/events themselves or the items/assets being tracked. However, since the table is specifically focused on the changes in quantity, it seems that the primary purpose is to record the history or log of changes for each item or asset, rather than the items or assets themselves. Therefore, the main relationship entity that groups them is the holding change event for each item or asset."}, "column_meaning": {"summary": [{"column": "HH_H_T_ID", "meaning": "unique identifier for the holding transaction"}, {"column": "HH_T_ID", "meaning": "unique identifier for the transaction"}, {"column": "HH_BEFORE_QTY", "meaning": "quantity of holdings before the transaction"}, {"column": "HH_AFTER_QTY", "meaning": "quantity of holdings after the transaction"}]}, "rename_column": {"summary": [{"column": "HH_H_T_ID", "ambiguous": false, "rename": ""}, {"column": "HH_T_ID", "ambiguous": false, "rename": ""}, {"column": "HH_BEFORE_QTY", "ambiguous": false, "rename": ""}, {"column": "HH_AFTER_QTY", "ambiguous": false, "rename": ""}]}, "table_summary": {"summary": "The table 'fact_holding_changes' captures events where there has been a change in holdings. It consists of 362342 rows, each representing a unique event, and has 4 Attributes. The **HH_H_T_ID** attribute serves as an identifier for each holding change event. The **HH_T_ID** attribute appears to be a reference to a transaction or trigger for the holding change. The **HH_BEFORE_QTY** and **HH_AFTER_QTY** attributes indicate the quantity of holdings before and after the event, respectively. These attributes together provide a detailed record of how holdings have changed over time, reflecting the adjustments in quantity for each identified event."}, "column_grouping": {"summary": {"Holding Change Event": {"Holding Transaction": {"HH_H_T_ID": ["HH_H_T_ID"], "Transaction": {"HH_T_ID": ["HH_T_ID"], "Quantity Change": {"HH_BEFORE_QTY": ["HH_BEFORE_QTY"], "HH_AFTER_QTY": ["HH_AFTER_QTY"]}}}}}}, "visualization": {"summary": [{"name": "Histogram", "params": "HH_BEFORE_QTY"}, {"name": "Histogram", "params": "HH_AFTER_QTY"}]}, "missing_value": {"HH_H_T_ID": {}, "HH_T_ID": {}, "HH_BEFORE_QTY": {}, "HH_AFTER_QTY": {}}, "unusual": {"HH_H_T_ID": {"summary": {"Unusualness": false, "Examples": ""}}, "HH_T_ID": {"summary": {"Unusualness": false, "Examples": ""}}, "HH_BEFORE_QTY": {"summary": {"Unusualness": false, "Examples": ""}}, "HH_AFTER_QTY": {"summary": {"Unusualness": false, "Examples": ""}}}, "recommend_testing": [{"name": "Non-Negative Quantity Change", "reasoning": "The quantity after change should not be less than the quantity before change if the context implies that the quantity can only increase.", "sql": "select * from fact_holding_changes where HH_AFTER_QTY < HH_BEFORE_QTY"}, {"name": "Abnormal Quantity Change", "reasoning": "The change in quantity should not exceed a certain threshold to catch any abnormal changes.", "sql": "select * from fact_holding_changes where abs(HH_AFTER_QTY - HH_BEFORE_QTY) > 5000"}, {"name": "Duplicate Transaction ID Check", "reasoning": "Each 'HH_H_T_ID' should be unique to ensure there are no duplicate transactions.", "sql": "select HH_H_T_ID, count(*) as cnt from fact_holding_changes group by HH_H_T_ID having cnt > 1"}, {"name": "Referential Integrity Check for Transaction ID", "reasoning": "Every 'HH_T_ID' in 'fact_holding_changes' should have a corresponding entry in another table that contains transaction details.", "sql": "select f.HH_T_ID from fact_holding_changes f left join transactions t on f.HH_T_ID = t.transaction_id where t.transaction_id is null"}]}